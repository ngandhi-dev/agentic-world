import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as c}from"./index.WFquGv8Z.js";function p({initialThreads:d}){const[r,i]=c.useState("All"),[a,o]=c.useState(""),[l,h]=c.useState("newest"),n=d.filter(s=>{const t=r==="All"||s.category===r,u=s.title.toLowerCase().includes(a.toLowerCase())||s.content.toLowerCase().includes(a.toLowerCase());return t&&u}).sort((s,t)=>l==="newest"?new Date(t.created_at)-new Date(s.created_at):l==="oldest"?new Date(s.created_at)-new Date(t.created_at):0),m=["All","Announcements","General","Ideas","Q&A"];return e.jsxs("div",{className:"hub-content",children:[e.jsxs("aside",{className:"hub-sidebar",children:[e.jsx("div",{className:"search-container",children:e.jsx("input",{type:"text",placeholder:"Search discussions...",value:a,onChange:s=>o(s.target.value),className:"search-input"})}),e.jsxs("nav",{children:[e.jsx("label",{className:"sidebar-label",children:"Categories"}),m.map(s=>e.jsx("button",{onClick:()=>i(s),className:r===s?"active":"",children:s},s))]})]}),e.jsxs("section",{className:"threads-feed",children:[e.jsxs("div",{className:"feed-header",children:[e.jsxs("span",{className:"results-count",children:[n.length," Discussions"]}),e.jsxs("div",{className:"sort-container",children:[e.jsx("label",{htmlFor:"sort",children:"Sort by:"}),e.jsxs("select",{id:"sort",value:l,onChange:s=>h(s.target.value),className:"sort-select",children:[e.jsx("option",{value:"newest",children:"Newest First"}),e.jsx("option",{value:"oldest",children:"Oldest First"})]})]})]}),n.length>0?n.map(s=>e.jsxs("div",{className:"thread-row",children:[e.jsxs("div",{className:"thread-main",children:[e.jsx("a",{href:`/hub/${s.slug}`,children:e.jsx("h2",{children:s.title})}),e.jsxs("div",{className:"thread-meta",children:[e.jsxs("span",{className:"author",children:["@",s.profiles?.username]}),e.jsx("span",{className:"dot",children:"â€¢"}),e.jsx("span",{className:"date",children:new Date(s.created_at).toLocaleDateString()})]})]}),e.jsx("div",{className:"thread-stats",children:e.jsx("span",{className:"badge",children:s.category||"General"})})]},s.id)):e.jsxs("div",{className:"empty-state",children:[e.jsxs("p",{children:['No results for "',e.jsx("strong",{children:a}),'"']}),e.jsx("button",{onClick:()=>{o(""),i("All")},children:"Clear all filters"})]})]})]})}export{p as default};
