import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as a}from"./index.WFquGv8Z.js";function h(){const[s,t]=a.useState(null),[r,n]=a.useState(!0);a.useEffect(()=>{if(!window.supabaseClient){console.error("Supabase client not found on window"),n(!1);return}window.supabaseClient.auth.getSession().then(({data:{session:i}})=>{t(i?.user??null),n(!1)});const{data:{subscription:l}}=window.supabaseClient.auth.onAuthStateChange((i,u)=>{t(u?.user??null)});return()=>l.unsubscribe()},[]);const o=async()=>{await window.supabaseClient.auth.signOut(),window.location.reload()};return r?e.jsx("div",{className:"badge-skeleton"}):s?e.jsxs("div",{className:"profile-badge",children:[e.jsxs("a",{href:"/settings",className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:[e.jsx("div",{className:"avatar-circle",children:s.email.charAt(0).toUpperCase()}),e.jsx("span",{className:"user-email-text hidden md:block",children:s.email})]}),e.jsx("button",{onClick:o,className:"signout-btn",children:"Sign Out"})]}):e.jsx("a",{href:"/hub",className:"login-link",children:"Sign In"})}export{h as default};
